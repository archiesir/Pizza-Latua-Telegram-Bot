# -*- coding: utf-8 -*-

from enum import Enum

import db


def product_data(product):
    title = product['title']
    price = product['price']

    if not product['comp']:
        output = '<b>{}</b>\n\n' \
                 '<b>–¶–µ–Ω–∞: {} —Ä—É–±.</b>'.format(title, price)
    else:
        comp = product['comp']
        output = '<b>{}</b>\n\n' \
                 '{}\n\n' \
                 '<b>–¶–µ–Ω–∞: {} —Ä—É–±.</b>'.format(title, comp, price)
    return output


def pizza_data(product):
    title = product['title']
    price = product['price']
    gram = product['gram']

    if not product['comp']:
        output = '<b>{}</b>\n\n' \
                 '<b>–¶–µ–Ω–∞: {} —Ä—É–±.</b>'.format(title, price)
    else:
        comp = product['comp']
        output = '<b>{}</b>\n\n' \
                 '{}\n\n' \
                 '<b>–¶–µ–Ω–∞: {} —Ä—É–±. ‚Äî {} –≥—Ä.</b>'.format(title, comp, price, gram)
    return output


def basket(chat_id):
    db.delete_empty_orders(chat_id)
    orders = db.get_orders_by_chat_id(chat_id)
    sum = 0
    output = '<b>üì• –ö–æ—Ä–∑–∏–Ω–∞:</b>\n\n'
    for o in orders:
        output = output + o[3] + ' ‚Äî ' + str(o[2]) + ' —à—Ç. = ' + str(o[5] * o[2]) + ' —Ä—É–±.' + '\n\n'
    for o in orders:
        sum = sum + o[5] * o[2]
    output = output + '<b>–û–±—â–∞—è —Å—É–º–º–∞: ' + str(sum) + ' —Ä—É–±.</b>'
    if sum == 0:
        output = '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ —á–µ–º 0 —Ä—É–±.'
    return output


class Messages(Enum):
    WELCOME = '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {}. \n' \
              '–ú—ã —Ä–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å–≤–æ–≤–∞—Ç—å –≤–∞—Å –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã. \n–í —Å–ª—É—á–∞–µ ' \
              '–≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤, –∑–≤–æ–Ω–∏–∏—Ç–µ –ø–æ –Ω–æ–º–µ—Ä—É \n+99 999 999 99 99 '

    DELIVERY = '<b>–£—Å–ª–æ–≤–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏:</b>\n' \
               '–û—Ç–¥–µ–ª –¥–æ—Å—Ç–∞–≤–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å nn:nn –¥–æ nn:nn'

    CONTACTS = 'üè¥ –ó–¥–µ—Å—å –±—É–¥—É—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã'

    INFO = '‚úè <b>–ü—Ä–µ–º–∏—É–º –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω–µ</b>\n' \
           'üë®‚Äçüç≥ –ö–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–≤–∞—Ä–∞\n' \
           'üïê –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ 30-60 –º–∏–Ω—É—Ç\n' \
           'üë®‚Äçüíª –ú—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞ —Å—á—ë—Ç –∑–∞–ø–∞—Å–Ω—ã—Ö –∫—É—Ä—å–µ—Ä–æ–≤\n' \
           'üè¢ –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥—ë—Ç –∫–æ–º–ø–∞–Ω–∏—è–º, –¥–ª—è c–æ–∑–¥–∞–Ω–∏—è –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã\n' \
           'üïî –∏ —Ç–µ–º, –∫—Ç–æ –±–µ—Ä–µ–∂—ë—Ç —Å–≤–æ—ë –≤—Ä–µ–º—è\n' \
           'üîí –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∫–∞–∑ 500 —Ä—É–±–ª–µ–π\n' \
           '‚úÖ–ú—ã –¥–æ—Å—Ç–∞–≤–ª—è–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ\n\n' \
           'üë©‚Äçüç≥ <b>–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∞–ø–ø–µ—Ç–∏—Ç–∞!</b> üë©‚Äçüç≥'
